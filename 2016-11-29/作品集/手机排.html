<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Document</title>
<style type="text/css">
	td{
		text-align: center;
	}
</style>
</head>
<body>
<table width="300" align="center" border="1">
	<thead>
		<th>商品</th>
		<th>价格</th>
		<th>操作</th>
	</thead>
	<tbody>
		<tr>
			<td>苹果</td>
			<td>3700</td>
			<td>
				<input type="button" value="上移">
				<input type="button" value="下移">
			</td>
		</tr>
		<tr>
			<td>锤子</td>
			<td>2499</td>
			<td>
				<input type="button" value="上移">
				<input type="button" value="下移">
			</td>
		</tr>
		<tr>
			<td>小米</td>
			<td>3299</td>
			<td>
				<input type="button" value="上移">
				<input type="button" value="下移">
			</td>
		</tr>
		<tr>
			<td>坚果</td>
			<td>799</td>
			<td>
				<input type="button" value="上移">
				<input type="button" value="下移">
			</td>
		</tr>
		<tr>
			<td>桔子</td>
			<td>1799</td>
			<td>
				<input type="button" value="上移">
				<input type="button" value="下移">
			</td>
		</tr>
		<tr>
			<td>梨子</td>
			<td>1199</td>
			<td>
				<input type="button" value="上移">
				<input type="button" value="下移">
			</td>
		</tr>
	</tbody>
	<tfoot>
		<td>价格排序</td>
		<td><input type="button" value="从高到低"></td>
		<td><input type="button" value="从低到高"></td>
	</tfoot>
</table>
	<script>
		(function(d){
			var table=d.querySelector("table");
			var tbody=table.tBodies[0];
			var tfoot=table.tFoot;
			var rows=tbody.rows;
			var pure=document.querySelectorAll("input[value='上移']");
			var next=document.querySelectorAll("input[value='下移']");
			var btn=tfoot.querySelectorAll("input");
			var rowsArr=[];
			for(var i=0;i<pure.length;i++){
				rowsArr.push(rows[i]);
				//再次存放一次，因为下面需要进行排序。排序必须是数组
				pure[i].onclick=function(){
					var tr=this.parentNode.parentNode;
					var pureTr=this.previousElementSibling;
					if(pureTr){
						tbody.insertBefore(tr,pureTr)
					}else{
						tbody.appendChild(tr);
					}
				};
				next[i].onclick=function(){
					var tr=this.parentNode.parentNode;
					var nextTr=this.nextElceementSibling;
					if(nextTr){
						tbody.insertBefore(nextTr,tr)
					}else{
						tbody.insertBefore(tr,rows[0])
					}
				}
			}
			btn[0].addEventListener("click",fnUp);
			function fnUp(){
				rowsArr.sort(function(tr1,tr2){
					var cellsA=tr1.cells[1].innerHTML;
					var cellsB=tr1.cells[1].innerHTML;
					return cellsB-cellsA;
				})
				for(var i = 0; i < rowsArr.length; i++){
					tbody.appendChild(rowsArr[i]);
				//alert(i);
				}
			}
		})(document)
	</script>
</body>
</html>