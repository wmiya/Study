<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>Document</title>
	<link rel="stylesheet"  href="CSS/CSS.css"/>
</head>
<body>
	<div id="warp">
		<div class="Wai">
			 <div class="arc" id="backG"></div>
			 <canvas id="canvas" width="360" height="500"></canvas>
		</div>
		 <!--中间光盘部分-->
		
		  <!--音乐标题部分-->
		 <div class="tit">
			Instant Crush 
			<span class="cons">- Daft Punk</span>
		 </div>
		 
		  <!--中间播放器-->
		<label for="play" class="play">
			<a href="#" class="wShow"></a>
 
		</label>
		<!--控制音乐左右部分-->
		<div class="contrl">
			<a href="#"></a>
			<a href="#"></a>
		</div>
		<ul class="songlist">
			<li class="song">
				<p class="covar"></p>
				<div class="RT">
					<p class="name">song 1</p>
					<p class="author">pink dash</p>
					<audio  src="Sting (史汀) - Shape Of My Heart (心的形状).mp3" id="audio"></audio>
				</div>
			</li>
			<li class="song">
				<p class="covar"></p>
				<div class="RT">
					<p class="name">song 1</p>
					<p class="author">pink dash</p>
				</div>
			</li>
			<li class="song">
				<p class="covar"></p>
				<div class="RT">
					<p class="name">song 1</p>
					<p class="author">pink dash</p>
				</div>
			</li>
			<li class="song">
				<p class="covar"></p>
				<div class="RT">
					<p class="name">song 1</p>
					<p class="author">pink dash</p>
				</div>
			</li>
			<li class="song">
				<p class="covar"></p>
				<div class="RT">
					<p class="name">song 1</p>
					<p class="author">pink dash</p>
				</div>
			</li>
			<li class="song">
				<p class="covar"></p>
				<div class="RT">
					<p class="name">song 1</p>
					<p class="author">pink dash</p>
				</div>
			</li>
			
			
		</ul>
	</div>
	
</body>
<script>
	(function(){
		var canvas=document.getElementById("canvas")
		var cxt=canvas.getContext("2d");
		var w=canvas.width/2;
		var h=canvas.height/2;
		var warp=document.getElementById("warp")
		var ul=warp.querySelector(".songlist")//音乐列表的ul
		var lis=ul.children;//列表下的音乐
		var auto=document.getElementById("audio");
		var btna=document.querySelector(".play a")//播放按钮
		var backG=document.getElementById("backG")//旋转光盘的外框
		var contrl=document.querySelector(".contrl")
		var childs=warp.children;
		acrFn("brown",1);
		acrFn("blue",0.5);
		
		  function acrFn(color,scale){
			  	cxt.beginPath();
			  	cxt.save();
			  	cxt.lineWidth=5;
			  	cxt.strokeStyle=color;
			  	cxt.arc(w,h,100,0,2*Math.PI*0.9*scale,false);
			  	cxt.stroke();
			  	cxt.restore();
			  	
			  	
	  	
	  	}
		/*点击第一首音乐的时候自动播放*/
		var takOFF=false;
		btna.addEventListener("click",fnClick)
		function fnClick(){
			var span=document.createElement("span")
			span.className="mack"/*中间的透明层部分*/
			canvas.style.display="none";
			if(this.className=="wShow"){
				this.className="wAfter";
				backG.className="";
				backG.className="arcChange"
				ul.style.display="block"
				this.parentNode.style.transform="translate(130px,-70px)"
				canvas.style.display="none"
//				wai.removeChild(span)
				childs[1].style.transform="translate(-69%,-400%)"
				auto.pause();
				
				
			}else{
				this.className="wShow";
				this.parentNode.style.transform="translate(0px,0px)"
				backG.className="arc";
				backG.parentNode.className="Wai"
				ul.style.display="none";
				contrl.style.display="block";
//				wai.appendChild(span);
				canvas.style.display="block"
				childs[1].style.transform="translate(-50%,-800%)"
				auto.play();
			}
			takOFF=!takOFF;
		}
//-------------------------------------
//添加播放效果
var arr=[
	{
		src:"Sting (史汀) - Shape Of My Heart (心的形状).mp3",
		author:"pink dash"
	},
	{
		src:"Sting (史汀) - Shape Of My Heart (心的形状).mp3",
		author:"pink dash"
	},
	{
		src:"Sting (史汀) - Shape Of My Heart (心的形状).mp3",
		author:"pink dash"
	},
	{
		src:"Sting (史汀) - Shape Of My Heart (心的形状).mp3",
		author:"pink dash"
	},
	{
		src:"Sting (史汀) - Shape Of My Heart (心的形状).mp3",
		author:"pink dash"
	},
	{
		src:"Sting (史汀) - Shape Of My Heart (心的形状).mp3",
		author:"pink dash"
	}
  ]
 
 	 for(var i=0;i<lis.length;i++){
  		lis[i].index=i;
  		lis[i].addEventListener("click",clkFn);
  		function clkFn(){
			auto.src=arr[this.index].src;
			auto.play();
			setInterval(function(){
				
				
				
				
				
			},50)
			
		} 	 
 	 }

	
  })()
</script>
</html>