<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>数码时钟</title>
		<style>
			body,ul,li {
				margin: 0;
				padding: 0;
			}
			ul {
				height: 210px;
				overflow:hidden;
			}
			li {
				list-style: none;
				float: left;
				position: relative;
			}
			img {
				display: block;
			}
	</style>
	</head>
	<body>
		<ul>
			<li class="t">
				<img src="images/0.png">
				<img src="images/0.png">
			</li>
			<li class="t">
				<img src="images/0.png">
				<img src="images/0.png">
			</li>
			<li>
				<img src="images/fuh.png" class="p">
			</li>
			<li class="t">
				<img src="images/0.png">
				<img src="images/0.png">
			</li>
			<li class="t">
				<img src="images/0.png">
				<img src="images/0.png">
			</li>
			<li>
				<img src="images/fuh.png" class="p">
			</li>
			<li class="t">
				<img src="images/0.png">
				<img src="images/0.png">
			</li>
			<li class="t">
				<img src="images/0.png">
				<img src="images/0.png">
			</li>
		</ul>
	</body>
	<script src="mTween.js"></script>
	<script>
		(function(d){
			var lis=d.querySelectorAll(".t");
			var point=d.querySelectorAll(".p");
			var takOff=true;
			//console.log(lis,point)
			for(var i=0;i<lis.length;i++){
				lis[i].t=0;
			}
			getTime();
			setInterval(getTime,20)
			function getTime(){
				var date=new Date()
				var h=date.getHours(),
				    m=date.getMinutes(),
				    s=date.getSeconds();
				 var time=add0(h)+add0(m)+add0(s);
				 for(var i=0;i<time.length;i++){
				 	if(lis[i].t!=time[i]){
				 		picMove(lis[i],time[i]);
				 		lis[i].t=time[i];
				 	}
				 }
			}
			
			
			
			function picMove(obj,src){
				var pics=obj.getElementsByTagName("img");
				pics[0].src='images/'+obj.t+'.png';
				obj.style.top=0;
				pics[1].src='images/'+src+'.png';
				mTween(obj,{top:-210});
				
				
				
			}
			
			
			function add0(n){
				return n<10?"0"+n:""+n;
			}
			
			setInterval(pint,500)
			function pint(){
				var src='';
				if(takOff){
					src='fuh';
				}else{
					src='nfh';
				}
				takOff=!takOff;
				for(var i=0;i<point.length;i++){
					point[i].src='images/'+src+'.png'
				}
			}
			
		})(document)
	</script>
</html>
